"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function _createClass(e,t,a){return t&&_defineProperties(e.prototype,t),a&&_defineProperties(e,a),e}var FullcalendarDemo=function(){function e(){_classCallCheck(this,e),this.init()}return _createClass(e,[{key:"init",value:function(){var e=document.getElementById("calendar"),t=document.getElementById("calendar-list");this.calendar=this.registerCalendar(e),this.listEvents=this.registerListEvents(t),this.calendar.render(),this.listEvents.render()}},{key:"updateTitleAndTodayBtn",value:function(e){var t=document.querySelector("#calendar-title"),a=document.querySelector('[data-nav="today"]'),n=moment(e.getDate().toISOString()).format("YYYY-MM-DD")===moment().format("YYYY-MM-DD");t.innerHTML=e.currentData.viewTitle,n?a.setAttribute("disabled","disabled"):a.removeAttribute("disabled")}},{key:"registerCalendar",value:function(e){var i=this;return new FullCalendar.Calendar(e,{themeSystem:"bootstrap",aspectRatio:Looper.isToggleScreenDown()?.85:1.35,headerToolbar:!1,initialView:"dayGridMonth",events:"assets/data/events.json",dayMaxEvents:!0,editable:!0,viewDidMount:function(){var r=document.querySelectorAll('[data-toggle="calendarview"]'),e=document.querySelectorAll('[data-toggle="calendarnav"]');i.updateTitleAndTodayBtn(i.calendar),r.forEach(function(n){n.addEventListener("click",function(){var t,e=n.dataset.view,a="list".concat(e.substr(e.indexOf("Grid")+4));t="active",r.forEach(function(e){return e.classList.remove(t)}),n.classList.add("active"),i.calendar.changeView(e),i.listEvents.changeView(a),i.updateTitleAndTodayBtn(i.calendar)},!1)}),e.forEach(function(e){e.addEventListener("click",function(){i.calendar[e.dataset.nav](),i.listEvents[e.dataset.nav](),i.updateTitleAndTodayBtn(i.calendar)},!1)})}})}},{key:"registerListEvents",value:function(e){return new FullCalendar.Calendar(e,{themeSystem:"bootstrap",height:"auto",headerToolbar:!1,initialView:"listMonth",events:"assets/data/events.json"})}}]),e}();$(document).on("theme:init",function(){new FullcalendarDemo});